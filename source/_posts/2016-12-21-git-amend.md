---
title: 【git】如何修改最近的提交？
categories: git
---

## 问题

有时把代码提交了之后，发现少提交东西了，或者里面有包含错误代码的文件，怎么办？

## 解决方法

如果是少提交东西了，那就执行`git add`添加文件到暂存区。

如果是有提交了错误的代码，那就改成代码，同样地，执行`git add`添加文件到暂存区。

这时候就不能直接运行

```bash
git commit -m "xxx"
```

因为这会产生一条新的提交记录。

正确的解法是运行

```bash
git commit --amend
```

然后，你就会进入编辑模式，如果有需要，就可以修改上一次的注释，然后`:wq`退出，再运行`git log`就能看到，以上操作并不会产生新的commit，而是修改上一次commit，done！



